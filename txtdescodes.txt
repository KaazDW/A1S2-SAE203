MARCOURT Jean-François
Code sources des TP ARDUINO

/////////////////////////////////////////////////////////////////////////////////////////////////
> S2TP1
/////////////////////////////////////////////////////////////////////////////////////////////////

#include "FeatherShieldPinouts.h"

bool ison = false;
// the setup function runs once when you press reset or power the board
void setup() {
  // initialize digital pin LED_BUILTIN as an output.
  pinMode(A0, OUTPUT);
  pinMode(D4, OUTPUT);
  pinMode(A2, INPUT);
  Serial.begin(115000);
}

// the loop function runs over and over again forever
void loop() {
  if(digitalRead(A2)&& ison == false){
    digitalWrite(A0, HIGH);
    digitalWrite(D4, LOW);
    ison = true;
  }else 
   if(digitalRead(A2)&& ison == true){
    digitalWrite(A0, LOW);
    digitalWrite(D4, HIGH);
    ison = false;
  }
}





/////////////////////////////////////////////////////////////////////////////////////////////////
> S2TP2
/////////////////////////////////////////////////////////////////////////////////////////////////

>>>>>
>>>>> Programme permettant l'allumage de la LED placé en A0 avec un intensité progressive ASC puis DSC.
>>>>>

#include "FeatherShieldPinouts.h"

bool onn = false;
int val = 100;
bool up = true;

void setup() {
  // initialize digital pin LED_BUILTIN as an output.
  pinMode(A0, OUTPUT);
  pinMode(D4, OUTPUT);
  pinMode(A2, INPUT);
  Serial.begin(115000);
}

void loop() {

while(up == true){
  val++;
  delay(50);
  dacWrite(A0, val);
  Serial.println(val);
  
  if (val > 170){
    up = false;
  }
}
while(up == false){
  val--;
  delay(50);
  dacWrite(A0, val);
  Serial.println(val);
  if (val < 100){
    up = true;
  }
}

}


>>>>>
>>>>> Programme permettant de changer et d'afficher dans les log la vitesse du moteur en fonction de l'input: potentiomètre ou capteur de lumière
>>>>>

#include "FeatherShieldPinouts.h"

bool onn = false;
int val = 100;
bool up = true;
// the setup function runs once when you press reset or power the board
void setup() {
  // initialize digital pin LED_BUILTIN as an output.
  pinMode(A0, OUTPUT);
  pinMode(D4, OUTPUT);
//  pinMode(A2, INPUT);
  Serial.begin(115200);
}

// the loop function runs over and over again forever
void loop() {

val= analogRead(D4)/16; //on divise par 16 car les valeurs du potentiometre peuvent aller de 0 à 4095, donc pour passer de 4095 à 255 il faut diviser par 16
delay(50);
dacWrite(A0, val );
Serial.println(val);

}

>>>>>
>>>>>
>>>>>






